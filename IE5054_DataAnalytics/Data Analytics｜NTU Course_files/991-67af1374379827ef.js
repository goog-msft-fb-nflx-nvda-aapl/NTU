"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[991],{17042:function(e,t,r){r.d(t,{a:function(){return g}});var n,i,s=r(97271),o=r(18087),a=r(16463),l=r(27776),u=r(51864),c=r(57890),d=r(50591),m=r(31863);(n=i||(i={})).Student="Student",n.Staff="Staff",n.Admin="Admin";let g=()=>{let e=(0,a.useParams)(),[t]=(0,s.Z)("auth"),r=(0,o.useTranslations)("hooks"),n=(0,m.i)(e.locale);return(0,u.a)({queryKey:c.a.user(n),queryFn:async()=>{if(!t)return null;let e=await d.Z.get("/v1/users/current",{params:{lang:n}});return 200===e.status&&l.A.success("Student"===e.data.userType?r("welcome-back-student",{name:e.data.name}):r("welcome-back",{name:e.data.name})),e.data},staleTime:36e5,retry:!1})}},62626:function(e,t,r){r.d(t,{go:function(){return i},jD:function(){return c},rU:function(){return l},tv:function(){return d}});var n,i,s=r(5758),o=r(63019);(n=i||(i={})).en="en",n.zhTW="zh-TW";let a=(0,o.R)({locales:["en","zh-TW"],defaultLocale:"zh-TW",localePrefix:"as-needed"}),{Link:l,redirect:u,usePathname:c,useRouter:d}=(0,s.iV)(a)},57890:function(e,t,r){r.d(t,{a:function(){return n}});let n={progress:["progress"],filters:e=>[e,"filters"],enrollStatus:e=>["enroll-status",e],newsPage:e=>["news",e],search:(e,t,r)=>[e,"search",t,r],user:e=>["user",e].filter(Boolean),collections:e=>[...n.user(e),"collection"],collectionIds:e=>[...n.collections(e),"id-only"],preselects:e=>[...n.user(e),"preselect"],preselectIds:e=>[...n.preselects(e),"id-only"],results:(e,t)=>[...n.user(e),t,"result"]}},32552:function(e,t,r){r.d(t,{E3:function(){return d},lW:function(){return o},We:function(){return m},Y_:function(){return g}});var n,i,s,o,a,l,u=r(59772);let c=u.ZP.object({id:u.ZP.string(),name:u.ZP.string(),shortName:u.ZP.string().nullish()}).transform(e=>{var t;return"default"===e.name?null:{id:e.id,name:e.name,shortName:null!==(t=e.shortName)&&void 0!==t?t:e.name}});(n=o||(o={})).General="1",n.Preallocated="2",n.Compulsory="3",n.Elective="4",(i=a||(a={})).Normal="Normal",i.Grouped="Grouped",i.General="General",i.EducationProgram="EducationProgram",i.NightSchool="NightSchool",i.PhysicalEducation="PhysicalEducation",i.MilitaryTrainingClass="MilitaryTrainingClass",(s=l||(l={})).A1="A1",s.A2="A2",s.A3="A3",s.A4="A4",s.A5="A5",s.A6="A6",s.A7="A7",s.A8="A8",s.B="B",s.C="C";let d=u.z.object({department:c,courseType:u.z.nativeEnum(a),isCompulsory:u.z.boolean().nullish(),isPreallocated:u.z.boolean().nullish(),generalMarks:u.z.nativeEnum(l).array()}).transform(e=>{let t=e.generalMarks.filter(e=>"B"!==e&&"C"!==e).map(e=>+e[e.length-1]),r="A".concat(+t.join("")).concat(e.generalMarks.includes("C")?"*":"");return{department:e.department,type:t.length>0?"1":e.isPreallocated?"2":e.isCompulsory?"3":"4",generalStr:t.length>0?r:null}});function m(e){return e.reduce((e,t)=>{var r,n;return e[t.type]={departments:[...null!==(n=null===(r=e[t.type])||void 0===r?void 0:r.departments)&&void 0!==n?n:[],t.department],generalStr:t.generalStr},e},{})}function g(e){var t;let r=Object.keys(e).filter(e=>"1"!==e);return[null===(t=e["1"])||void 0===t?void 0:t.generalStr,...r].filter(Boolean)}},84167:function(e,t,r){r.d(t,{T0:function(){return j},H1:function(){return d},D4:function(){return m}});var n,i,s,o,a,l,u,c,d,m,g,h,p=r(59772),P=r(32552);let Z=p.ZP.object({id:p.ZP.string(),courseId:p.ZP.string(),group:p.ZP.string(),studentQuota:p.ZP.number(),taQuota:p.ZP.number(),classroom:p.ZP.string(),comment:p.ZP.string().nullish(),practiceGroupSchedules:p.ZP.object({id:p.ZP.string(),practiceGroupId:p.ZP.string(),weekday:p.ZP.number(),lessons:p.ZP.string().array()}).array()}).transform(e=>({group:e.group,studentQuota:e.studentQuota,taQuota:e.taQuota,classroom:e.classroom,comment:e.comment,practiceGroupSchedules:e.practiceGroupSchedules})),f=p.ZP.object({order:p.ZP.number().int(),precourseName:p.ZP.string(),precourseCode:p.ZP.string(),requiredScore:p.ZP.number().int(),isCorequisite:p.ZP.boolean()}).transform(()=>null);(n=u||(u={})).CourseCode="CourseCode",n.CourseName="CourseName",(i=c||(c={})).DepartmentBachelor="DepartmentBachelor",i.SchoolBachelor="SchoolBachelor",i.DepartmentBachelorAndGraduateStudent="DepartmentBachelorAndGraduateStudent",i.SchoolBachelorAndGraduateStudent="SchoolBachelorAndGraduateStudent";let b=p.ZP.object({id:p.ZP.string(),identificationType:p.ZP.nativeEnum(u),studentLimitType:p.ZP.nativeEnum(c),precourseLimitCourses:f.array()}).transform(e=>({id:e.id,precourseLimitCourses:e.precourseLimitCourses})),y=p.ZP.object({id:p.ZP.string(),name:p.ZP.string(),location:p.ZP.string().nullish(),buildingName:p.ZP.string().nullish(),buildingId:p.ZP.string().nullish(),accessibility:p.ZP.boolean(),layer:p.ZP.string().nullish(),detail:p.ZP.string()}).transform(e=>({name:e.name,detail:e.detail,accessibility:e.accessibility,buildingName:e.buildingName})),v=p.ZP.object({weekday:p.ZP.number().int(),intervals:p.ZP.string().array(),classroom:y.nullable()}).transform(e=>({weekday:e.weekday,intervals:e.intervals,classroom:e.classroom})),T=p.ZP.object({code:p.ZP.string(),name:p.ZP.string()}).transform(e=>({code:e.code,name:e.name})),C=p.ZP.object({id:p.ZP.string(),description:p.ZP.string()}).transform(e=>({id:e.id,description:e.description})),S=p.ZP.object({isRequiredAppointment:p.ZP.boolean().nullish(),officeComment:p.ZP.string().nullish(),officeTimes:p.ZP.object({weekday:p.ZP.number().int(),startAt:p.ZP.string(),endAt:p.ZP.string()}).array(),description:p.ZP.string().nullish(),goal:p.ZP.string().nullish(),requirement:p.ZP.string().nullish(),workLoad:p.ZP.string().nullish(),assignedReading:p.ZP.string().nullish(),referenceBook:p.ZP.string().nullish(),progress:p.ZP.object({week:p.ZP.string(),date:p.ZP.string().nullish(),content:p.ZP.string()}).array(),ratings:p.ZP.object({percent:p.ZP.number(),content:p.ZP.string(),note:p.ZP.string()}).array(),adjustments:p.ZP.object({method:p.ZP.string(),description:p.ZP.string()}).array()}).transform(e=>{var t,r,n,i,s,o,a;let l=e.officeTimes.length||e.officeComment||e.isRequiredAppointment,u=e.adjustments.reduce((e,t)=>(e[t.method]?e[t.method].push(t.description):e[t.method]=[t.description],e),{});return{description:null===(t=e.description)||void 0===t?void 0:t.trim(),goal:null===(r=e.goal)||void 0===r?void 0:r.trim(),requirement:null===(n=e.requirement)||void 0===n?void 0:n.trim(),workLoad:null===(i=e.workLoad)||void 0===i?void 0:i.trim(),assignedReading:null===(s=e.assignedReading)||void 0===s?void 0:s.trim(),referenceBook:null===(o=e.referenceBook)||void 0===o?void 0:o.trim(),ratings:e.ratings,adjustments:e.adjustments.length?u:null,progress:e.progress,office:l&&{times:e.officeTimes,comment:null===(a=e.officeComment)||void 0===a?void 0:a.trim(),isRequiredAppointment:e.isRequiredAppointment}}}),N=[null,void 0," 學院 樓 室","     學院     樓        室"],A=p.ZP.object({id:p.ZP.string().nullish(),name:p.ZP.string().nullish(),hostDepartment:p.ZP.string().nullish(),college:p.ZP.string().nullish(),jobTitle:p.ZP.string().nullish(),websiteUrl:p.ZP.string().nullish(),email:p.ZP.string().nullish(),phone:p.ZP.string().nullish(),office:p.ZP.string().nullish(),info:p.ZP.string().nullish()}).transform(e=>{var t,r,n,i,s,o,a;return{name:null!==(r=e.name)&&void 0!==r?r:"",department:[e.college,e.hostDepartment].filter(Boolean).join(" "),jobTitle:null!==(n=e.jobTitle)&&void 0!==n?n:"",websiteUrl:function(e){if(e.length)return/^https?:\/\//.test(e)?e:"https://"+e}(null!==(i=e.websiteUrl)&&void 0!==i?i:""),email:null!==(s=e.email)&&void 0!==s?s:"",phone:(null===(t=e.phone)||void 0===t?void 0:t.replace(/^-+|-+$/g,""))||"",office:N.includes(e.office)?"":null!==(o=e.office)&&void 0!==o?o:"",info:null!==(a=e.info)&&void 0!==a?a:""}});(s=d||(d={})).Time="Time",s.Class="Class",s.Teacher="Teacher",s.StudentNumber="StudentNumber",s.OtherDepartmentsStudentNum="OtherDepartmentsStudentNum",s.Mark="Mark",s.Enroll="Enroll",s.Compulsoriness="Compulsoriness",s.Undefined="Undefined",(o=m||(m={})).Normal="Normal",o.New="New",o.Updated="Updated",o.Canceled="Canceled",(a=g||(g={})).AND="AND",a.OR="OR",(l=h||(h={})).NTU="NTU",l.NTUST="NTUST",l.NTNU="NTNU";let j=p.ZP.object({id:p.ZP.string(),serial:p.ZP.string(),identifier:p.ZP.string(),code:p.ZP.string(),name:p.ZP.string(),notes:p.ZP.string(),teacher:A,class:p.ZP.string().nullish(),courseTargets:P.E3.array(),schedules:v.array(),isCommon:p.ZP.boolean(),intensiveWeeks:p.ZP.number().array(),specializedPrograms:T.array(),credits:p.ZP.number(),totalStudentQuota:p.ZP.number(),otherDepartmentsStudentQuota:p.ZP.number(),nonNtuStudentQuota:p.ZP.number(),changeItems:p.ZP.nativeEnum(d).array(),status:p.ZP.nativeEnum(m),enrollMethod:p.ZP.number().int().nullish(),studentGradeLimits:C.array(),studentGradeLimitsJoinType:p.ZP.nativeEnum(g).nullish(),isGeneralWithSeminars:p.ZP.boolean().nullish(),isEnglishTaught:p.ZP.boolean(),precourseLimit:b.nullish(),semester:p.ZP.string(),provider:p.ZP.nativeEnum(h),hostDepartment:p.ZP.string(),coreCapabilityUrlQuery:p.ZP.string().nullish(),basicAttainmentUrlQuery:p.ZP.string().nullish(),coolUrl:p.ZP.string().nullish(),sdgIds:p.ZP.number().int().array().optional(),externalSyllabusUrl:p.ZP.string().nullish(),syllabus:S.nullish(),practiceGroups:Z.array()}).transform(e=>({id:e.id,serial:e.serial,identifier:"Undefined Curriculum Number"===e.identifier?"":e.identifier,code:e.code,name:e.name,notes:e.notes,teacher:e.teacher,class:e.class,courseTypes:(0,P.We)(e.courseTargets),schedules:e.schedules,intensiveWeeks:e.intensiveWeeks,specializedPrograms:e.specializedPrograms,credits:e.credits,studentQuota:{total:e.totalStudentQuota,nonNtu:2*e.nonNtuStudentQuota,otherDepts:e.otherDepartmentsStudentQuota},changeItems:Array.from(new Set(e.changeItems)),status:e.status,enrollMethod:e.enrollMethod,studentGradeLimits:{items:e.studentGradeLimits,joinType:e.studentGradeLimitsJoinType},isEnglishTaught:e.isEnglishTaught,isGeneralWithSeminars:e.isGeneralWithSeminars,precourseLimit:e.precourseLimit,semester:e.semester,provider:e.provider,coreCapabilityUrlQuery:e.coreCapabilityUrlQuery,basicAttainmentUrlQuery:e.basicAttainmentUrlQuery,coolUrl:e.coolUrl,sdgIds:e.sdgIds,externalSyllabusUrl:e.externalSyllabusUrl,syllabus:e.syllabus,practiceGroups:e.practiceGroups}));j.transform(e=>({id:e.id,serial:e.serial,name:e.name,credits:e.credits,teacher:e.teacher,schedules:e.schedules,studentQuota:e.studentQuota,status:e.status,semester:e.semester}))},95930:function(e,t,r){r.d(t,{Le:function(){return d},WG:function(){return m},XU:function(){return a},gN:function(){return i}});var n,i,s=r(59772),o=r(84167);(n=i||(i={})).Chinese="chinese",n.ForeignLanguage="foreign",n.Calculus="calculus",n.Common="common";let a={...i};s.z.object({courseId:s.z.string(),course:o.T0.optional()});let l=s.z.object({course:o.T0.optional(),field:s.z.enum(["Chinese","ForeignLanguage","Calculus","Common"]).optional(),semester:s.z.string(),serial:s.z.string()}),u=s.z.object({courseId:s.z.string(),course:o.T0.optional(),reason:s.z.string().nullable()}),c=s.z.object({courseId:s.z.string(),course:o.T0.optional()}),d=s.z.object({assignedCourses:c.array(),preselectedCourses:l.array()}),m=s.z.object({unassignedCourses:u.array(),assignedCourses:c.array()})},50591:function(e,t,r){var n,i=r(38472);let s=null!==(n=globalThis.axiosInstance)&&void 0!==n?n:i.default.create({baseURL:"https://course.ntu.edu.tw/api"});s.interceptors.request.use(e=>{let t=document.cookie.split("; ").find(e=>e.startsWith("auth"));return t&&(e.headers.Authorization="JWT ".concat(t.split("=")[1])),e}),t.Z=s},31863:function(e,t,r){r.d(t,{i:function(){return n}});let n=e=>{switch(e){case"zh-TW":default:return"zh_TW";case"en":return"en_US"}}}}]);